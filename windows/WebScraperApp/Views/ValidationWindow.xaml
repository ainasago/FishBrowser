<Window x:Class="FishBrowser.WPF.Views.ValidationWindow"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        Title="元配置校验" Height="520" Width="880"
        WindowStartupLocation="CenterOwner" ResizeMode="CanResize">
  <Grid>
    <Grid.RowDefinitions>
      <RowDefinition Height="Auto"/>
      <RowDefinition Height="*"/>
      <RowDefinition Height="Auto"/>
    </Grid.RowDefinitions>

    <DockPanel Grid.Row="0" Margin="10">
      <TextBlock Text="Meta Profiles" FontSize="16" FontWeight="Bold"/>
      <Button Content="刷新" Width="80" Margin="10,0,0,0" Click="Refresh_Click"/>
      <Button Content="校验选中" Width="100" Margin="6,0,0,0" Click="ValidateSelected_Click"/>
    </DockPanel>

    <Grid Grid.Row="1" Margin="10">
      <Grid.ColumnDefinitions>
        <ColumnDefinition Width="2*"/>
        <ColumnDefinition Width="10"/>
        <ColumnDefinition Width="3*"/>
      </Grid.ColumnDefinitions>

      <DataGrid x:Name="MetaGrid" Grid.Column="0" AutoGenerateColumns="False" CanUserAddRows="False"
                IsReadOnly="True" SelectionMode="Single" SelectionChanged="MetaGrid_SelectionChanged">
        <DataGrid.Columns>
          <DataGridTextColumn Header="Id" Binding="{Binding Id}" Width="60"/>
          <DataGridTextColumn Header="名称" Binding="{Binding Name}" Width="*"/>
          <DataGridTextColumn Header="版本" Binding="{Binding Version}" Width="120"/>
          <DataGridTextColumn Header="来源" Binding="{Binding Source}" Width="120"/>
        </DataGrid.Columns>
      </DataGrid>

      <GroupBox Grid.Column="2" Header="校验报告">
        <Grid>
          <Grid.RowDefinitions>
            <RowDefinition Height="*"/>
            <RowDefinition Height="*"/>
          </Grid.RowDefinitions>
          <GroupBox Header="缺失项" Grid.Row="0" Margin="6">
            <ListBox x:Name="MissingList"/>
          </GroupBox>
          <GroupBox Header="冲突项" Grid.Row="1" Margin="6">
            <ListBox x:Name="ConflictsList"/>
          </GroupBox>
        </Grid>
      </GroupBox>
    </Grid>

    <DockPanel Grid.Row="2" Margin="10">
      <TextBlock x:Name="StatusText"/>
      <Button Content="关闭" Width="100" DockPanel.Dock="Right" Click="Close_Click"/>
    </DockPanel>
  </Grid>
</Window>
