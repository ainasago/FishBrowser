<Window x:Class="FishBrowser.WPF.Views.NewBrowserEnvironmentWindow"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        Title="æ–°å»ºæŒ‡çº¹æµè§ˆå™¨" Height="680" Width="980"
        WindowStartupLocation="CenterOwner" ResizeMode="CanResize">
  <Window.Resources>
    <!-- ToggleButton æ ·å¼ï¼šé€‰ä¸­æ—¶è“è‰²ï¼Œæœªé€‰ä¸­æ—¶ç°è‰² -->
    <Style x:Key="SelectionToggleButtonStyle" TargetType="ToggleButton">
      <Setter Property="Background" Value="White"/>
      <Setter Property="Foreground" Value="#999"/>
      <Setter Property="BorderBrush" Value="#CCC"/>
      <Setter Property="BorderThickness" Value="1"/>
      <Setter Property="Padding" Value="8,4"/>
      <Setter Property="FontSize" Value="12"/>
      <Setter Property="Template">
        <Setter.Value>
          <ControlTemplate TargetType="ToggleButton">
            <Border Background="{TemplateBinding Background}" 
                    BorderBrush="{TemplateBinding BorderBrush}" 
                    BorderThickness="{TemplateBinding BorderThickness}"
                    CornerRadius="4" Padding="{TemplateBinding Padding}">
              <!-- ä½¿ç”¨ TextBlock ä»¥æ”¯æŒ Foreground ç»‘å®š -->
              <TextBlock Text="{TemplateBinding Content}"
                         Foreground="{TemplateBinding Foreground}"
                         HorizontalAlignment="Center"
                         VerticalAlignment="Center"/>
            </Border>
          </ControlTemplate>
        </Setter.Value>
      </Setter>
      <Style.Triggers>
        <Trigger Property="IsChecked" Value="True">
          <Setter Property="Background" Value="White"/>
          <Setter Property="Foreground" Value="#0066CC"/>
          <Setter Property="BorderBrush" Value="#0066CC"/>
          <Setter Property="BorderThickness" Value="2"/>
        </Trigger>
        <Trigger Property="IsMouseOver" Value="True">
          <Setter Property="Background" Value="#F5F5F5"/>
        </Trigger>
      </Style.Triggers>
    </Style>
  </Window.Resources>
  <Grid Margin="10">
    <Grid.ColumnDefinitions>
      <ColumnDefinition Width="2*"/>
      <ColumnDefinition Width="*"/>
    </Grid.ColumnDefinitions>
    <Grid.RowDefinitions>
      <RowDefinition Height="*"/>
      <RowDefinition Height="Auto"/>
    </Grid.RowDefinitions>

    <!-- å·¦ä¾§è¡¨å• -->
    <ScrollViewer Grid.Row="0" Grid.Column="0" VerticalScrollBarVisibility="Auto">
      <StackPanel Margin="0,0,12,0">
        <TextBlock Text="åŸºç¡€ä¿¡æ¯" FontWeight="Bold" Margin="0,0,0,6"/>
        <Grid>
          <Grid.ColumnDefinitions>
            <ColumnDefinition Width="140"/>
            <ColumnDefinition Width="*"/>
          </Grid.ColumnDefinitions>
          <TextBlock Grid.Column="0" Text="åç§°" VerticalAlignment="Center"/>
          <TextBox x:Name="NameBox" Grid.Column="1" Height="26"/>
        </Grid>

        <Separator Margin="0,8,0,8"/>
        <TextBlock Text="æµè§ˆå™¨ä¸Žæ“ä½œç³»ç»Ÿ" FontWeight="Bold" Margin="0,0,0,6"/>
        <Grid>
          <Grid.RowDefinitions>
            <RowDefinition Height="Auto"/>
            <RowDefinition Height="Auto"/>
            <RowDefinition Height="Auto"/>
            <RowDefinition Height="Auto"/>
          </Grid.RowDefinitions>
          <Grid.ColumnDefinitions>
            <ColumnDefinition Width="140"/>
            <ColumnDefinition Width="*"/>
          </Grid.ColumnDefinitions>
          <TextBlock Grid.Row="0" Grid.Column="0" Text="æµè§ˆå™¨" VerticalAlignment="Center"/>
          <StackPanel Grid.Row="0" Grid.Column="1" Orientation="Horizontal">
            <ToggleButton x:Name="EngineChromeBtn" Content="Chrome" Width="90" Height="26" Tag="chrome" Style="{StaticResource SelectionToggleButtonStyle}" Click="Engine_Click"/>
            <ToggleButton x:Name="EngineFirefoxBtn" Content="Firefox" Width="90" Height="26" Tag="firefox" Margin="8,0,0,0" Style="{StaticResource SelectionToggleButtonStyle}" Click="Engine_Click"/>
            <ToggleButton x:Name="EngineWebKitBtn" Content="WebKit" Width="90" Height="26" Tag="webkit" Margin="8,0,0,0" Style="{StaticResource SelectionToggleButtonStyle}" Click="Engine_Click"/>
            <ToggleButton x:Name="EngineEdgeBtn" Content="Edge" Width="90" Height="26" Tag="edge" Margin="8,0,0,0" Style="{StaticResource SelectionToggleButtonStyle}" Click="Engine_Click"/>
            <ToggleButton x:Name="EngineBraveBtn" Content="Brave" Width="90" Height="26" Tag="brave" Margin="8,0,0,0" Style="{StaticResource SelectionToggleButtonStyle}" Click="Engine_Click"/>
            <ComboBox x:Name="EngineCombo" Height="26" SelectionChanged="Generic_SelectionChanged" Visibility="Collapsed">
              <ComboBoxItem Content="Chrome" Tag="chrome" IsSelected="True"/>
              <ComboBoxItem Content="Firefox" Tag="firefox"/>
              <ComboBoxItem Content="WebKit" Tag="webkit"/>
              <ComboBoxItem Content="Edge (Chromium)" Tag="edge"/>
              <ComboBoxItem Content="Brave (Chromium)" Tag="brave"/>
            </ComboBox>
          </StackPanel>
          <TextBlock Grid.Row="1" Grid.Column="0" Text="å¼•æ“Žæ¨¡å¼" VerticalAlignment="Center"/>
          <StackPanel Grid.Row="1" Grid.Column="1" Orientation="Horizontal">
            <ToggleButton x:Name="EngineModePlaywrightBtn" Content="ðŸŽ­ Playwright" Width="140" Height="26" Tag="playwright" Style="{StaticResource SelectionToggleButtonStyle}" Click="EngineMode_Click" ToolTip="æ ‡å‡† Playwrightï¼ˆå¿«é€Ÿã€ç¨³å®šï¼‰"/>
            <ToggleButton x:Name="EngineModeUndetectedBtn" Content="ðŸ›¡ï¸ UndetectedChrome" Width="160" Height="26" Tag="undetected_chrome" Margin="8,0,0,0" Style="{StaticResource SelectionToggleButtonStyle}" Click="EngineMode_Click" ToolTip="åæ£€æµ‹æ¨¡å¼ï¼ˆç»•è¿‡ Cloudflareï¼Œä»…æ”¯æŒ Chromeï¼‰"/>
          </StackPanel>
          <TextBlock Grid.Row="2" Grid.Column="0" Text="æ“ä½œç³»ç»Ÿ" VerticalAlignment="Center"/>
          <StackPanel Grid.Row="2" Grid.Column="1" Orientation="Horizontal">
            <ToggleButton x:Name="OsWindowsBtn" Content="Windows" Width="90" Height="26" Tag="windows" Style="{StaticResource SelectionToggleButtonStyle}" Click="Os_Click"/>
            <ToggleButton x:Name="OsAndroidBtn" Content="Android" Width="90" Height="26" Tag="android" Margin="8,0,0,0" Style="{StaticResource SelectionToggleButtonStyle}" Click="Os_Click"/>
            <ToggleButton x:Name="OsiOSBtn" Content="iOS" Width="70" Height="26" Tag="ios" Margin="8,0,0,0" Style="{StaticResource SelectionToggleButtonStyle}" Click="Os_Click"/>
            <ToggleButton x:Name="OsMacBtn" Content="macOS" Width="90" Height="26" Tag="macos" Margin="8,0,0,0" Style="{StaticResource SelectionToggleButtonStyle}" Click="Os_Click"/>
            <ToggleButton x:Name="OsLinuxBtn" Content="Linux" Width="90" Height="26" Tag="linux" Margin="8,0,0,0" Style="{StaticResource SelectionToggleButtonStyle}" Click="Os_Click"/>
            <ComboBox x:Name="OsCombo" Height="26" SelectionChanged="Generic_SelectionChanged" Visibility="Collapsed">
              <ComboBoxItem Content="Windows" Tag="windows" IsSelected="True"/>
              <ComboBoxItem Content="Android" Tag="android"/>
              <ComboBoxItem Content="iOS" Tag="ios"/>
              <ComboBoxItem Content="macOS" Tag="macos"/>
              <ComboBoxItem Content="Linux" Tag="linux"/>
            </ComboBox>
          </StackPanel>
          <TextBlock Grid.Row="2" Grid.Column="0" Text="User Agent" VerticalAlignment="Center"/>
          <StackPanel Grid.Row="2" Grid.Column="1" Orientation="Horizontal">
            <ToggleButton x:Name="UaRandomBtn" Content="éšæœº" Width="70" Height="26" Tag="random" Style="{StaticResource SelectionToggleButtonStyle}" Click="UaMode_Click"/>
            <ToggleButton x:Name="UaMatchBtn" Content="åŒ¹é…" Width="70" Height="26" Tag="match" Margin="8,0,0,0" Style="{StaticResource SelectionToggleButtonStyle}" Click="UaMode_Click"/>
            <ToggleButton x:Name="UaCustomBtn" Content="è‡ªå®šä¹‰" Width="70" Height="26" Tag="custom" Margin="8,0,0,0" Style="{StaticResource SelectionToggleButtonStyle}" Click="UaMode_Click"/>
            <ToggleButton x:Name="UaProfileBtn" Content="ä½¿ç”¨é…ç½®UA" Width="100" Height="26" Tag="profile" Margin="8,0,0,0" Style="{StaticResource SelectionToggleButtonStyle}" Click="UaMode_Click"/>
            <ComboBox x:Name="UaModeCombo" Width="120" Height="26" VerticalAlignment="Center" SelectionChanged="UaModeCombo_SelectionChanged" Visibility="Collapsed">
              <ComboBoxItem Content="éšæœº" Tag="random" IsSelected="True"/>
              <ComboBoxItem Content="åŒ¹é…" Tag="match"/>
              <ComboBoxItem Content="è‡ªå®šä¹‰" Tag="custom"/>
              <ComboBoxItem Content="ä½¿ç”¨é…ç½®UA" Tag="profile"/>
            </ComboBox>
            <TextBox x:Name="CustomUaBox" Margin="8,0,0,0" Height="26" Width="420" Visibility="Collapsed" TextChanged="Generic_TextChanged"/>
          </StackPanel>
        </Grid>

        <Separator Margin="0,8,0,8"/>
        <TextBlock Text="ä»£ç†ä¸ŽåŒºåŸŸåå¥½" FontWeight="Bold" Margin="0,0,0,6"/>
        <Grid>
          <Grid.RowDefinitions>
            <RowDefinition Height="Auto"/>
            <RowDefinition Height="Auto"/>
            <RowDefinition Height="Auto"/>
            <RowDefinition Height="Auto"/>
          </Grid.RowDefinitions>
          <Grid.ColumnDefinitions>
            <ColumnDefinition Width="140"/>
            <ColumnDefinition Width="*"/>
          </Grid.ColumnDefinitions>
          <TextBlock Grid.Row="0" Grid.Column="0" Text="ä»£ç†æ–¹å¼" VerticalAlignment="Center"/>
          <StackPanel Grid.Row="0" Grid.Column="1" Orientation="Horizontal">
            <ToggleButton x:Name="ProxyNoneBtn" Content="æ— " Width="70" Height="26" Tag="none" Style="{StaticResource SelectionToggleButtonStyle}" Click="Proxy_Click"/>
            <ToggleButton x:Name="ProxyRefBtn" Content="å¼•ç”¨" Width="70" Height="26" Tag="reference" Margin="8,0,0,0" Style="{StaticResource SelectionToggleButtonStyle}" Click="Proxy_Click"/>
            <ToggleButton x:Name="ProxyApiBtn" Content="API" Width="70" Height="26" Tag="api" Margin="8,0,0,0" Style="{StaticResource SelectionToggleButtonStyle}" Click="Proxy_Click"/>
            <ComboBox x:Name="ProxyModeCombo" Height="26" SelectionChanged="Generic_SelectionChanged" Visibility="Collapsed">
              <ComboBoxItem Content="æ— " Tag="none" IsSelected="True"/>
              <ComboBoxItem Content="å¼•ç”¨å·²æœ‰ä»£ç†" Tag="reference"/>
              <ComboBoxItem Content="è‡ªå®šä¹‰APIæå–" Tag="api"/>
            </ComboBox>
          </StackPanel>
          <TextBlock Grid.Row="1" Grid.Column="0" Text="é€‰æ‹©ä»£ç†" VerticalAlignment="Top" Margin="0,6,0,0"/>
          <Grid Grid.Row="1" Grid.Column="1">
            <Grid.RowDefinitions>
              <RowDefinition Height="Auto"/>
              <RowDefinition Height="Auto"/>
            </Grid.RowDefinitions>
            <!-- ç¬¬ä¸€è¡Œï¼šæ¨¡å¼åˆ‡æ¢ä¸Žæ“ä½œæŒ‰é’®ï¼Œç•™å‡ºæ›´å¤§é—´è· -->
            <StackPanel Grid.Row="0" Orientation="Horizontal" VerticalAlignment="Center">
              <ToggleButton x:Name="ProxyTargetServerBtn" Content="å•ä¸ª" Width="70" Height="28" Tag="server" Style="{StaticResource SelectionToggleButtonStyle}" Click="ProxyTarget_Click"/>
              <ToggleButton x:Name="ProxyTargetPoolBtn" Content="æ± " Width="70" Height="28" Tag="pool" Margin="10,0,0,0" Style="{StaticResource SelectionToggleButtonStyle}" Click="ProxyTarget_Click"/>
              <Button x:Name="AddPoolInlineButton" Content="æ–°å»ºæ± " Width="84" Height="28" Margin="12,0,0,0" Click="AddPoolInline_Click" Visibility="Collapsed"/>
              <Button x:Name="AddProxyInlineButton" Content="æ–°å»º" Width="84" Height="28" Margin="8,0,0,0" Click="AddProxyInline_Click"/>
              <Button x:Name="TestProxyButton" Content="æµ‹è¯•" Width="84" Height="28" Margin="8,0,0,0" Click="TestProxy_Click"/>
            </StackPanel>
            <!-- ç¬¬äºŒè¡Œï¼šä¸‹æ‹‰ï¼Œå æ»¡æ•´è¡Œå®½åº¦ï¼Œé¿å…é®æŒ¡æŒ‰é’® -->
            <Grid Grid.Row="1" Margin="0,8,0,0">
              <Grid.ColumnDefinitions>
                <ColumnDefinition Width="*"/>
              </Grid.ColumnDefinitions>
              <ComboBox x:Name="ExistingProxyCombo" Grid.Column="0"
                        MinWidth="420" Height="28" Padding="6,0,6,0"
                        MaxDropDownHeight="320" DisplayMemberPath="Label" SelectedValuePath="Id"
                        DropDownOpened="ExistingProxyCombo_DropDownOpened" />
              <ComboBox x:Name="ExistingPoolCombo" Grid.Column="0"
                        MinWidth="420" Height="28" Padding="6,0,6,0"
                        MaxDropDownHeight="320" DisplayMemberPath="Name" SelectedValuePath="Id"
                        Visibility="Collapsed" DropDownOpened="ExistingPoolCombo_DropDownOpened" />
            </Grid>
          </Grid>
          <TextBlock Grid.Row="2" Grid.Column="0" Text="åŒºåŸŸ (å« IP)" VerticalAlignment="Center"/>
          <WrapPanel Grid.Row="2" Grid.Column="1" ItemWidth="60" ItemHeight="26">
            <ToggleButton x:Name="RegionIpBtn" Content="IP" Width="60" Height="26" Tag="IP" Style="{StaticResource SelectionToggleButtonStyle}" Click="Region_Click"/>
            <ToggleButton x:Name="RegionCnBtn" Content="CN" Width="60" Height="26" Tag="CN" Margin="8,0,0,0" Style="{StaticResource SelectionToggleButtonStyle}" Click="Region_Click"/>
            <ToggleButton x:Name="RegionUsBtn" Content="US" Width="60" Height="26" Tag="US" Margin="8,0,0,0" Style="{StaticResource SelectionToggleButtonStyle}" Click="Region_Click"/>
            <ToggleButton x:Name="RegionJpBtn" Content="JP" Width="60" Height="26" Tag="JP" Margin="8,0,0,0" Style="{StaticResource SelectionToggleButtonStyle}" Click="Region_Click"/>
            <ToggleButton x:Name="RegionDeBtn" Content="DE" Width="60" Height="26" Tag="DE" Margin="8,0,0,0" Style="{StaticResource SelectionToggleButtonStyle}" Click="Region_Click"/>
            <ToggleButton x:Name="RegionUkBtn" Content="UK" Width="60" Height="26" Tag="UK" Margin="8,0,0,0" Style="{StaticResource SelectionToggleButtonStyle}" Click="Region_Click"/>
            <ToggleButton x:Name="RegionInBtn" Content="IN" Width="60" Height="26" Tag="IN" Margin="8,0,0,0" Style="{StaticResource SelectionToggleButtonStyle}" Click="Region_Click"/>
            <ToggleButton x:Name="RegionBrBtn" Content="BR" Width="60" Height="26" Tag="BR" Margin="8,0,0,0" Style="{StaticResource SelectionToggleButtonStyle}" Click="Region_Click"/>
            <TextBox x:Name="RegionBox" Height="26" Width="120" Margin="8,0,0,0" ToolTip="ç”¨äºŽæ™ºèƒ½åŒ¹é…è¯­è¨€/æ—¶åŒºï¼Œç•™ç©ºé»˜è®¤ CNï¼›é€‰æ‹© IP æ—¶å°†æŒ‰IPç¡®å®šåŒºåŸŸ" TextChanged="Generic_TextChanged" Visibility="Collapsed"/>
          </WrapPanel>
          <TextBlock Grid.Row="3" Grid.Column="0" Text="è®¾å¤‡ç±»/åŽ‚å•† (å¯é€‰)" VerticalAlignment="Center"/>
          <StackPanel Grid.Row="3" Grid.Column="1" Orientation="Horizontal">
            <TextBox x:Name="DeviceClassBox" Width="140" Height="26" Margin="0,0,8,0" TextChanged="Generic_TextChanged"/>
            <TextBox x:Name="VendorBox" Width="140" Height="26" TextChanged="Generic_TextChanged"/>
          </StackPanel>
        </Grid>

        <Separator Margin="0,8,0,8"/>
        <TextBlock Text="æŒ‡çº¹é…ç½®" FontWeight="Bold" Margin="0,0,0,6"/>
        <Grid>
          <Grid.RowDefinitions>
            <RowDefinition Height="Auto"/>
            <RowDefinition Height="Auto"/>
            <RowDefinition Height="Auto"/>
          </Grid.RowDefinitions>
          <Grid.ColumnDefinitions>
            <ColumnDefinition Width="140"/>
            <ColumnDefinition Width="*"/>
          </Grid.ColumnDefinitions>
          <TextBlock Grid.Row="0" Grid.Column="0" Text="é€‰æ‹©æ–¹å¼" VerticalAlignment="Center"/>
          <StackPanel Grid.Row="0" Grid.Column="1" Orientation="Horizontal">
            <RadioButton x:Name="ProfileModeExisting" Content="é€‰æ‹©å·²æœ‰" IsChecked="True" VerticalAlignment="Center" Margin="0,0,20,0" Checked="ProfileMode_Changed"/>
            <RadioButton x:Name="ProfileModePreset" Content="ä»Žé¢„è®¾ç”Ÿæˆ" VerticalAlignment="Center" Checked="ProfileMode_Changed"/>
          </StackPanel>
          
          <!-- é€‰æ‹©å·²æœ‰ Profile -->
          <TextBlock Grid.Row="1" Grid.Column="0" Text="æŒ‡çº¹é…ç½®" VerticalAlignment="Center" x:Name="ExistingProfileLabel"/>
          <ComboBox x:Name="ExistingProfileCombo" Grid.Row="1" Grid.Column="1" Height="26" DisplayMemberPath="Name" SelectionChanged="ExistingProfile_SelectionChanged"/>
          
          <!-- ä»Žé¢„è®¾ç”Ÿæˆ -->
          <TextBlock Grid.Row="1" Grid.Column="0" Text="é€‰æ‹©é¢„è®¾" VerticalAlignment="Center" x:Name="PresetLabel" Visibility="Collapsed"/>
          <ComboBox x:Name="PresetCombo" Grid.Row="1" Grid.Column="1" Height="26" DisplayMemberPath="Name" Visibility="Collapsed" SelectionChanged="PresetCombo_SelectionChanged"/>
          
          <!-- Profile ä¿¡æ¯å±•ç¤º -->
          <TextBlock Grid.Row="2" Grid.Column="0" Text="Profile ä¿¡æ¯" VerticalAlignment="Top"/>
          <TextBlock x:Name="ProfileInfoText" Grid.Row="2" Grid.Column="1" TextWrapping="Wrap" Foreground="#666" FontSize="11" Margin="0,2,0,0"/>
        </Grid>

        <Separator Margin="0,8,0,8"/>
        <TextBlock Text="é«˜çº§è®¾ç½® (å¸¸ç”¨)" FontWeight="Bold" Margin="0,0,0,6"/>
        <Grid>
          <Grid.RowDefinitions>
            <RowDefinition Height="Auto"/>
            <RowDefinition Height="Auto"/>
            <RowDefinition Height="Auto"/>
            <RowDefinition Height="Auto"/>
            <RowDefinition Height="Auto"/>
            <RowDefinition Height="Auto"/>
            <RowDefinition Height="Auto"/>
            <RowDefinition Height="Auto"/>
            <RowDefinition Height="Auto"/>
            <RowDefinition Height="Auto"/>
            <RowDefinition Height="Auto"/>
            <RowDefinition Height="Auto"/>
            <RowDefinition Height="Auto"/>
            <RowDefinition Height="Auto"/>
            <RowDefinition Height="Auto"/>
          </Grid.RowDefinitions>
          <Grid.ColumnDefinitions>
            <ColumnDefinition Width="140"/>
            <ColumnDefinition Width="*"/>
          </Grid.ColumnDefinitions>
          <TextBlock Grid.Row="0" Grid.Column="0" Text="åˆ†è¾¨çŽ‡" VerticalAlignment="Center"/>
          <StackPanel Grid.Row="0" Grid.Column="1" Orientation="Horizontal">
            <ToggleButton x:Name="ResolutionRealBtn" Content="çœŸå®ž" Width="70" Height="26" Tag="real" Style="{StaticResource SelectionToggleButtonStyle}" Click="Resolution_Click"/>
            <ToggleButton x:Name="ResolutionCustomBtn" Content="è‡ªå®šä¹‰" Width="70" Height="26" Tag="custom" Margin="8,0,0,0" Style="{StaticResource SelectionToggleButtonStyle}" Click="Resolution_Click"/>
            <ComboBox x:Name="ResolutionCombo" Height="26" SelectionChanged="Generic_SelectionChanged" Visibility="Collapsed">
              <ComboBoxItem Content="çœŸå®ž" Tag="real" IsSelected="True"/>
              <ComboBoxItem Content="è‡ªå®šä¹‰" Tag="custom"/>
            </ComboBox>
            <TextBlock Text="å®½" Margin="16,0,4,0" VerticalAlignment="Center" Visibility="Collapsed" x:Name="ResolutionWidthLabel"/>
            <TextBox x:Name="ResolutionWidthBox" Width="80" Height="26" Margin="0,0,8,0" Visibility="Collapsed" TextChanged="Generic_TextChanged" ToolTip="åˆ†è¾¨çŽ‡å®½åº¦"/>
            <TextBlock Text="é«˜" Margin="0,0,4,0" VerticalAlignment="Center" Visibility="Collapsed" x:Name="ResolutionHeightLabel"/>
            <TextBox x:Name="ResolutionHeightBox" Width="80" Height="26" Visibility="Collapsed" TextChanged="Generic_TextChanged" ToolTip="åˆ†è¾¨çŽ‡é«˜åº¦"/>
          </StackPanel>
          <TextBlock Grid.Row="1" Grid.Column="0" Text="WebRTC" VerticalAlignment="Center"/>
          <StackPanel Grid.Row="1" Grid.Column="1" Orientation="Horizontal">
            <ToggleButton x:Name="WebRtcHideBtn" Content="éšè—" Width="70" Height="26" Tag="hide" Style="{StaticResource SelectionToggleButtonStyle}" Click="WebRtc_Click"/>
            <ToggleButton x:Name="WebRtcDisableBtn" Content="ç¦ç”¨" Width="70" Height="26" Tag="disable" Margin="8,0,0,0" Style="{StaticResource SelectionToggleButtonStyle}" Click="WebRtc_Click"/>
            <ToggleButton x:Name="WebRtcRealBtn" Content="çœŸå®ž" Width="70" Height="26" Tag="real" Margin="8,0,0,0" Style="{StaticResource SelectionToggleButtonStyle}" Click="WebRtc_Click"/>
            <ComboBox x:Name="WebRtcCombo" Height="26" SelectionChanged="Generic_SelectionChanged" Visibility="Collapsed">
              <ComboBoxItem Content="éšè—" Tag="hide" IsSelected="True"/>
              <ComboBoxItem Content="ç¦ç”¨" Tag="disable"/>
              <ComboBoxItem Content="çœŸå®ž" Tag="real"/>
            </ComboBox>
          </StackPanel>
          <TextBlock Grid.Row="2" Grid.Column="0" Text="Canvas" VerticalAlignment="Center"/>
          <StackPanel Grid.Row="2" Grid.Column="1" Orientation="Horizontal">
            <ToggleButton x:Name="CanvasNoiseBtn" Content="å™ªéŸ³" Width="70" Height="26" Tag="noise" Style="{StaticResource SelectionToggleButtonStyle}" Click="Canvas_Click"/>
            <ToggleButton x:Name="CanvasRealBtn" Content="çœŸå®ž" Width="70" Height="26" Tag="real" Margin="8,0,0,0" Style="{StaticResource SelectionToggleButtonStyle}" Click="Canvas_Click"/>
            <ComboBox x:Name="CanvasCombo" Height="26" SelectionChanged="Generic_SelectionChanged" Visibility="Collapsed">
              <ComboBoxItem Content="å™ªéŸ³" Tag="noise" IsSelected="True"/>
              <ComboBoxItem Content="çœŸå®ž" Tag="real"/>
            </ComboBox>
          </StackPanel>
          <TextBlock Grid.Row="3" Grid.Column="0" Text="Webdriver" VerticalAlignment="Center"/>
          <StackPanel Grid.Row="3" Grid.Column="1" Orientation="Horizontal">
            <ToggleButton x:Name="WebdriverUndefinedBtn" Content="undefined" Width="90" Height="26" Tag="undefined" Style="{StaticResource SelectionToggleButtonStyle}" Click="Webdriver_Click" ToolTip="æœ€å®‰å…¨ï¼šå®Œå…¨ç§»é™¤ webdriver å±žæ€§"/>
            <ToggleButton x:Name="WebdriverTrueBtn" Content="true" Width="70" Height="26" Tag="true" Margin="8,0,0,0" Style="{StaticResource SelectionToggleButtonStyle}" Click="Webdriver_Click" ToolTip="ä¸ŽçœŸå®ž Chrome ä¸€è‡´"/>
            <ToggleButton x:Name="WebdriverFalseBtn" Content="false" Width="70" Height="26" Tag="false" Margin="8,0,0,0" Style="{StaticResource SelectionToggleButtonStyle}" Click="Webdriver_Click" ToolTip="å¯èƒ½è¢«æ£€æµ‹"/>
            <ComboBox x:Name="WebdriverCombo" Height="26" SelectionChanged="Generic_SelectionChanged" Visibility="Collapsed">
              <ComboBoxItem Content="undefined" Tag="undefined" IsSelected="True"/>
              <ComboBoxItem Content="true" Tag="true"/>
              <ComboBoxItem Content="false" Tag="false"/>
            </ComboBox>
          </StackPanel>
          <TextBlock Grid.Row="4" Grid.Column="0" Text="ç¡¬ä»¶å¹¶å‘/å†…å­˜" VerticalAlignment="Center"/>
          <StackPanel Grid.Row="4" Grid.Column="1" Orientation="Horizontal">
            <TextBox x:Name="HwBox" Width="80" Height="26" Text="10" Margin="0,0,8,0" TextChanged="Generic_TextChanged"/>
            <TextBox x:Name="MemBox" Width="80" Height="26" Text="8" TextChanged="Generic_TextChanged"/>
          </StackPanel>

          <TextBlock Grid.Row="5" Grid.Column="0" Text="å­—ä½“åˆ—è¡¨" VerticalAlignment="Center"/>
          <StackPanel Grid.Row="5" Grid.Column="1" Orientation="Horizontal">
            <ToggleButton x:Name="FontsRealBtn" Content="çœŸå®ž" Width="70" Height="26" Tag="real" Style="{StaticResource SelectionToggleButtonStyle}" Click="FontsMode_Click"/>
            <ToggleButton x:Name="FontsCustomBtn" Content="è‡ªå®šä¹‰" Width="70" Height="26" Tag="custom" Margin="8,0,0,0" Style="{StaticResource SelectionToggleButtonStyle}" Click="FontsMode_Click"/>
            <ComboBox x:Name="FontsModeCombo" Width="120" Height="26" VerticalAlignment="Center" SelectionChanged="FontsModeCombo_SelectionChanged" Visibility="Collapsed">
              <ComboBoxItem Content="çœŸå®ž" Tag="real" IsSelected="True"/>
              <ComboBoxItem Content="è‡ªå®šä¹‰" Tag="custom"/>
            </ComboBox>
            <Button x:Name="EditFontsButton" Content="ç¼–è¾‘" Width="70" Height="26" Margin="8,0,0,0" Click="EditFonts_Click"/>
            <Button x:Name="ShuffleFontsButton" Content="æ¢ä¸€æ¢" Width="80" Height="26" Margin="8,0,0,0" Click="ShuffleFonts_Click"/>
          </StackPanel>
          <TextBlock x:Name="FontsSummaryText" Grid.Row="5" Grid.Column="1" TextWrapping="Wrap" Foreground="#666" FontSize="11" Margin="0,2,0,8"/>

          <Separator Grid.Row="6" Grid.ColumnSpan="2" Margin="0,0,0,8"/>
          <TextBlock Grid.Row="7" Grid.Column="0" Text="WebGL å›¾åƒ" VerticalAlignment="Center"/>
          <StackPanel Grid.Row="7" Grid.Column="1" Orientation="Horizontal" Margin="0,0,0,8">
            <ToggleButton x:Name="WebGLImageNoiseBtn" Content="å™ªéŸ³" Width="70" Height="26" Tag="noise" Click="WebGLImageMode_Click" Style="{StaticResource SelectionToggleButtonStyle}"/>
            <ToggleButton x:Name="WebGLImageRealBtn" Content="çœŸå®ž" Width="70" Height="26" Tag="real" Margin="8,0,0,0" Click="WebGLImageMode_Click" Style="{StaticResource SelectionToggleButtonStyle}"/>
          </StackPanel>

          <TextBlock Grid.Row="8" Grid.Column="0" Text="WebGL Info" VerticalAlignment="Center"/>
          <StackPanel Grid.Row="8" Grid.Column="1" Orientation="Horizontal" Margin="0,0,0,8">
            <ToggleButton x:Name="WebGLInfoUaBtn" Content="åŸºäºŽUA" Width="70" Height="26" Tag="ua_based" Click="WebGLInfoMode_Click" Style="{StaticResource SelectionToggleButtonStyle}"/>
            <ToggleButton x:Name="WebGLInfoCustomBtn" Content="è‡ªå®šä¹‰" Width="70" Height="26" Tag="custom" Margin="8,0,0,0" Click="WebGLInfoMode_Click" Style="{StaticResource SelectionToggleButtonStyle}"/>
            <ToggleButton x:Name="WebGLInfoDisableBtn" Content="å…³é—­ç¡¬åŠ é€Ÿ" Width="90" Height="26" Tag="disable_hwaccel" Margin="8,0,0,0" Click="WebGLInfoMode_Click" Style="{StaticResource SelectionToggleButtonStyle}"/>
            <ToggleButton x:Name="WebGLInfoRealBtn" Content="çœŸå®ž" Width="70" Height="26" Tag="real" Margin="8,0,0,0" Click="WebGLInfoMode_Click" Style="{StaticResource SelectionToggleButtonStyle}"/>
          </StackPanel>
          
          <TextBlock Grid.Row="9" Grid.Column="0" Text="åŽ‚å•†" VerticalAlignment="Center"/>
          <TextBox x:Name="WebGLVendorBox" Grid.Row="9" Grid.Column="1" Height="26" Margin="0,0,0,8" TextChanged="Generic_TextChanged" IsReadOnly="True"/>
          
          <TextBlock Grid.Row="10" Grid.Column="0" Text="æ¸²æŸ“" VerticalAlignment="Center"/>
          <TextBox x:Name="WebGLRendererBox" Grid.Row="10" Grid.Column="1" Height="26" Margin="0,0,0,8" TextChanged="Generic_TextChanged" IsReadOnly="True"/>
          
          <TextBlock Grid.Row="11" Grid.Column="0" Text="æ“ä½œ" VerticalAlignment="Center"/>
          <StackPanel Grid.Row="11" Grid.Column="1" Orientation="Horizontal" Margin="0,0,0,8">
            <Button Content="ç¼–è¾‘" Width="70" Height="26" Click="EditWebGL_Click"/>
            <Button Content="æ¢ä¸€æ¢" Width="80" Height="26" Margin="8,0,0,0" Click="ShuffleWebGL_Click"/>
          </StackPanel>

          <TextBlock Grid.Row="12" Grid.Column="0" Text="WebGPU" VerticalAlignment="Center"/>
          <StackPanel Grid.Row="12" Grid.Column="1" Orientation="Horizontal" Margin="0,0,0,8">
            <ToggleButton x:Name="WebGpuMatchBtn" Content="åŸºäºŽWebGLåŒ¹é…" Width="100" Height="26" Tag="match_webgl" Click="WebGPUMode_Click" Style="{StaticResource SelectionToggleButtonStyle}"/>
            <ToggleButton x:Name="WebGpuRealBtn" Content="çœŸå®ž" Width="70" Height="26" Tag="real" Margin="8,0,0,0" Click="WebGPUMode_Click" Style="{StaticResource SelectionToggleButtonStyle}"/>
            <ToggleButton x:Name="WebGpuDisableBtn" Content="ç¦ç”¨" Width="70" Height="26" Tag="disable" Margin="8,0,0,0" Click="WebGPUMode_Click" Style="{StaticResource SelectionToggleButtonStyle}"/>
          </StackPanel>

          <TextBlock Grid.Row="13" Grid.Column="0" Text="AudioContext" VerticalAlignment="Center"/>
          <StackPanel Grid.Row="13" Grid.Column="1" Orientation="Horizontal" Margin="0,0,0,8">
            <ToggleButton x:Name="AudioNoiseBtn" Content="å™ªéŸ³" Width="70" Height="26" Tag="noise" Click="AudioContextMode_Click" Style="{StaticResource SelectionToggleButtonStyle}"/>
            <ToggleButton x:Name="AudioRealBtn" Content="çœŸå®ž" Width="70" Height="26" Tag="real" Margin="8,0,0,0" Click="AudioContextMode_Click" Style="{StaticResource SelectionToggleButtonStyle}"/>
          </StackPanel>

          <TextBlock Grid.Row="14" Grid.Column="0" Text="SpeechVoices" VerticalAlignment="Center"/>
          <StackPanel Grid.Row="14" Grid.Column="1" Orientation="Horizontal" Margin="0,0,0,8">
            <ToggleButton x:Name="SpeechEnabledBtn" Content="å¼€å¯" Width="70" Height="26" Tag="true" Click="SpeechVoices_Click" Style="{StaticResource SelectionToggleButtonStyle}"/>
            <ToggleButton x:Name="SpeechDisabledBtn" Content="å…³é—­" Width="70" Height="26" Tag="false" Margin="8,0,0,0" Click="SpeechVoices_Click" Style="{StaticResource SelectionToggleButtonStyle}"/>
          </StackPanel>
        </Grid>
      </StackPanel>
    </ScrollViewer>

    <!-- å³ä¾§é¢„è§ˆ -->
    <GroupBox Grid.Row="0" Grid.Column="1" Header="é¢„è§ˆ" Margin="8,0,0,0">
      <Grid>
        <Grid.RowDefinitions>
          <RowDefinition Height="*"/>
          <RowDefinition Height="Auto"/>
        </Grid.RowDefinitions>
        <TextBox x:Name="PreviewBox" Grid.Row="0" Margin="6" AcceptsReturn="True" VerticalScrollBarVisibility="Auto" IsReadOnly="True" TextWrapping="Wrap"/>
        <TextBlock x:Name="StatusText" Grid.Row="1" Margin="6"/>
      </Grid>
    </GroupBox>

    <!-- åº•éƒ¨æ“ä½œ -->
    <DockPanel Grid.Row="1" Grid.ColumnSpan="2" Margin="0,8,0,0" LastChildFill="True">
      <StackPanel Orientation="Horizontal" DockPanel.Dock="Right">
        <Button x:Name="RandomizeButton" Content="ä¸€é”®éšæœº" Width="100" Margin="0,0,8,0" Click="Randomize_Click"/>
        <Button x:Name="AdvancedRandomizeButton" Content="é«˜çº§éšæœº" Width="100" Margin="0,0,8,0" Click="AdvancedRandomize_Click"/>
        <Button x:Name="CreateButton" Content="åˆ›å»ºçŽ¯å¢ƒ" Width="110" Margin="8,0,0,0" Click="Create_Click"/>
        <Button x:Name="LaunchButton" Content="å¯åŠ¨æµè§ˆå™¨ï¼ˆæµ‹è¯•ï¼‰" Width="140" Margin="8,0,0,0" Click="LaunchBrowser_Click" IsEnabled="False"/>
        <Button Content="å…³é—­" Width="80" Margin="8,0,0,0" Click="Close_Click"/>
      </StackPanel>
      <TextBlock Text="æç¤ºï¼šå¤§å¤šæ•°é¡¹å·²æ™ºèƒ½åŒ¹é…ï¼Œå¿…è¦æ—¶å¯ç¨åŽåœ¨å…ƒé…ç½®ä¸­å¾®è°ƒã€‚" VerticalAlignment="Center"/>
    </DockPanel>
  </Grid>
</Window>
