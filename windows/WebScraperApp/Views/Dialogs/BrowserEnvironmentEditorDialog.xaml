<Window x:Class="FishBrowser.WPF.Views.Dialogs.BrowserEnvironmentEditorDialog"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        Title="æµè§ˆå™¨çŽ¯å¢ƒç¼–è¾‘å™¨" 
        Width="1200" Height="800" 
        WindowStartupLocation="CenterOwner"
        Background="#F5F5F5">
    <Window.Resources>
        <Style x:Key="SectionHeaderStyle" TargetType="TextBlock">
            <Setter Property="FontSize" Value="16"/>
            <Setter Property="FontWeight" Value="Bold"/>
            <Setter Property="Foreground" Value="#333"/>
            <Setter Property="Margin" Value="0,0,0,12"/>
        </Style>
        <Style x:Key="FieldLabelStyle" TargetType="TextBlock">
            <Setter Property="FontSize" Value="12"/>
            <Setter Property="Foreground" Value="#666"/>
            <Setter Property="Margin" Value="0,0,0,4"/>
        </Style>
        <Style x:Key="ScoreCardStyle" TargetType="Border">
            <Setter Property="Background" Value="White"/>
            <Setter Property="BorderBrush" Value="#DDD"/>
            <Setter Property="BorderThickness" Value="1"/>
            <Setter Property="CornerRadius" Value="8"/>
            <Setter Property="Padding" Value="16"/>
            <Setter Property="Margin" Value="0,0,12,0"/>
        </Style>
    </Window.Resources>

    <Grid>
        <Grid.ColumnDefinitions>
            <ColumnDefinition Width="2*"/>
            <ColumnDefinition Width="*"/>
        </Grid.ColumnDefinitions>

        <!-- å·¦ä¾§ï¼šç¼–è¾‘åŒº -->
        <Border Grid.Column="0" Background="White" Margin="0,0,8,0">
            <ScrollViewer VerticalScrollBarVisibility="Auto">
                <StackPanel Margin="24">
                    <!-- åŸºæœ¬ä¿¡æ¯ -->
                    <TextBlock Text="ðŸ“‹ åŸºæœ¬ä¿¡æ¯" Style="{StaticResource SectionHeaderStyle}"/>
                    <Border Background="#F9F9F9" Padding="16" CornerRadius="8" Margin="0,0,0,24">
                        <Grid>
                            <Grid.ColumnDefinitions>
                                <ColumnDefinition Width="*"/>
                                <ColumnDefinition Width="16"/>
                                <ColumnDefinition Width="*"/>
                            </Grid.ColumnDefinitions>
                            <Grid.RowDefinitions>
                                <RowDefinition Height="Auto"/>
                                <RowDefinition Height="12"/>
                                <RowDefinition Height="Auto"/>
                            </Grid.RowDefinitions>

                            <!-- åç§° -->
                            <StackPanel Grid.Row="0" Grid.Column="0">
                                <TextBlock Text="æµè§ˆå™¨åç§° *" Style="{StaticResource FieldLabelStyle}"/>
                                <TextBox x:Name="NameTextBox" Height="32"/>
                            </StackPanel>

                            <!-- åˆ†ç»„ -->
                            <StackPanel Grid.Row="0" Grid.Column="2">
                                <TextBlock Text="æ‰€å±žåˆ†ç»„" Style="{StaticResource FieldLabelStyle}"/>
                                <ComboBox x:Name="GroupComboBox" Height="32" DisplayMemberPath="Name"/>
                            </StackPanel>

                            <!-- å¤‡æ³¨ -->
                            <StackPanel Grid.Row="2" Grid.Column="0" Grid.ColumnSpan="3">
                                <TextBlock Text="å¤‡æ³¨" Style="{StaticResource FieldLabelStyle}"/>
                                <TextBox x:Name="NotesTextBox" Height="60" TextWrapping="Wrap" AcceptsReturn="True"/>
                            </StackPanel>
                        </Grid>
                    </Border>

                    <!-- æµè§ˆå™¨é…ç½® -->
                    <Grid>
                        <Grid.ColumnDefinitions>
                            <ColumnDefinition Width="*"/>
                            <ColumnDefinition Width="Auto"/>
                        </Grid.ColumnDefinitions>
                        <TextBlock Grid.Column="0" Text="ðŸŒ æµè§ˆå™¨é…ç½®" Style="{StaticResource SectionHeaderStyle}"/>
                        <CheckBox x:Name="LockBrowserConfigCheckBox" Grid.Column="1" Content="ðŸ“Œ å›ºå®šé…ç½®" VerticalAlignment="Center" Margin="0,0,0,12"
                                  ToolTip="å›ºå®šæ“ä½œç³»ç»Ÿã€åˆ†è¾¨çŽ‡ã€è¯­è¨€ç­‰é…ç½®ï¼ˆå®Œå…¨éšæœºæ—¶ä¸æ”¹å˜ï¼‰"/>
                    </Grid>
                    <Border Background="#F9F9F9" Padding="16" CornerRadius="8" Margin="0,0,0,24">
                        <Grid>
                            <Grid.ColumnDefinitions>
                                <ColumnDefinition Width="*"/>
                                <ColumnDefinition Width="16"/>
                                <ColumnDefinition Width="*"/>
                            </Grid.ColumnDefinitions>
                            <Grid.RowDefinitions>
                                <RowDefinition Height="Auto"/>
                                <RowDefinition Height="12"/>
                                <RowDefinition Height="Auto"/>
                                <RowDefinition Height="12"/>
                                <RowDefinition Height="Auto"/>
                            </Grid.RowDefinitions>

                            <!-- å¼•æ“Ž -->
                            <StackPanel Grid.Row="0" Grid.Column="0">
                                <TextBlock Text="æµè§ˆå™¨å¼•æ“Ž *" Style="{StaticResource FieldLabelStyle}"/>
                                <ComboBox x:Name="EngineComboBox" Height="32" SelectionChanged="EngineComboBox_SelectionChanged">
                                    <ComboBoxItem Content="UndetectedChrome (æŽ¨è)" Tag="UndetectedChrome" IsSelected="True"/>
                                    <ComboBoxItem Content="Chromium" Tag="Chromium"/>
                                    <ComboBoxItem Content="Firefox" Tag="Firefox"/>
                                </ComboBox>
                            </StackPanel>

                            <!-- æ“ä½œç³»ç»Ÿ -->
                            <StackPanel Grid.Row="0" Grid.Column="2">
                                <TextBlock Text="æ“ä½œç³»ç»Ÿ *" Style="{StaticResource FieldLabelStyle}"/>
                                <ComboBox x:Name="OSComboBox" Height="32" SelectionChanged="OSComboBox_SelectionChanged">
                                    <ComboBoxItem Content="Windows" IsSelected="True"/>
                                    <ComboBoxItem Content="MacOS"/>
                                    <ComboBoxItem Content="Linux"/>
                                    <ComboBoxItem Content="Android"/>
                                    <ComboBoxItem Content="iOS"/>
                                </ComboBox>
                            </StackPanel>

                            <!-- å±å¹•åˆ†è¾¨çŽ‡ -->
                            <StackPanel Grid.Row="2" Grid.Column="0">
                                <TextBlock Text="å±å¹•åˆ†è¾¨çŽ‡" Style="{StaticResource FieldLabelStyle}"/>
                                <ComboBox x:Name="ResolutionComboBox" Height="32" SelectionChanged="ResolutionComboBox_SelectionChanged">
                                    <ComboBoxItem Content="1920x1080 (æ¡Œé¢æŽ¨è)" Tag="1920x1080" IsSelected="True"/>
                                    <ComboBoxItem Content="1366x768" Tag="1366x768"/>
                                    <ComboBoxItem Content="1280x720" Tag="1280x720"/>
                                    <ComboBoxItem Content="2560x1440 (2K)" Tag="2560x1440"/>
                                    <ComboBoxItem Content="3840x2160 (4K)" Tag="3840x2160"/>
                                    <ComboBoxItem Content="390x844 (iPhone 13/14)" Tag="390x844"/>
                                    <ComboBoxItem Content="393x852 (iPhone 15)" Tag="393x852"/>
                                    <ComboBoxItem Content="428x926 (iPhone 14 Pro Max)" Tag="428x926"/>
                                    <ComboBoxItem Content="360x800 (Android å¸¸è§)" Tag="360x800"/>
                                    <ComboBoxItem Content="412x915 (Pixel 7)" Tag="412x915"/>
                                    <ComboBoxItem Content="1080x2400 (Android æ——èˆ°)" Tag="1080x2400"/>
                                    <ComboBoxItem Content="820x1180 (iPad)" Tag="820x1180"/>
                                    <ComboBoxItem Content="1024x1366 (iPad Pro)" Tag="1024x1366"/>
                                    <ComboBoxItem Content="è‡ªå®šä¹‰" Tag="custom"/>
                                </ComboBox>
                            </StackPanel>

                            <!-- è¯­è¨€åŒºåŸŸ -->
                            <StackPanel Grid.Row="2" Grid.Column="2">
                                <TextBlock Text="è¯­è¨€åŒºåŸŸ" Style="{StaticResource FieldLabelStyle}"/>
                                <ComboBox x:Name="LocaleComboBox" Height="32" SelectionChanged="LocaleComboBox_SelectionChanged">
                                    <ComboBoxItem Content="zh-CN (ç®€ä½“ä¸­æ–‡)" Tag="zh-CN" IsSelected="True"/>
                                    <ComboBoxItem Content="en-US (ç¾Žå›½è‹±è¯­)" Tag="en-US"/>
                                    <ComboBoxItem Content="ja-JP (æ—¥æœ¬èªž)" Tag="ja-JP"/>
                                    <ComboBoxItem Content="ko-KR (í•œêµ­ì–´)" Tag="ko-KR"/>
                                </ComboBox>
                            </StackPanel>

                            <!-- æŒä¹…åŒ– -->
                            <StackPanel Grid.Row="4" Grid.Column="0" Grid.ColumnSpan="3">
                                <CheckBox x:Name="PersistenceCheckBox" Content="å¯ç”¨ä¼šè¯æŒä¹…åŒ–ï¼ˆä¿å­˜ Cookieã€åŽ†å²è®°å½•ç­‰ï¼‰" IsChecked="True"/>
                            </StackPanel>
                        </Grid>
                    </Border>

                    <!-- æŒ‡çº¹ç‰¹å¾ -->
                    <Grid>
                        <Grid.ColumnDefinitions>
                            <ColumnDefinition Width="*"/>
                            <ColumnDefinition Width="Auto"/>
                        </Grid.ColumnDefinitions>
                        <TextBlock Grid.Column="0" Text="ðŸŽ­ æŒ‡çº¹ç‰¹å¾" Style="{StaticResource SectionHeaderStyle}"/>
                        <StackPanel Grid.Column="1" Orientation="Horizontal">
                            <Button Content="ðŸŽ² å®Œå…¨éšæœº" Width="100" Height="32" Margin="0,0,8,0" 
                                    Click="FullyRandomize_Click" Background="#4CAF50" Foreground="White" BorderThickness="0"
                                    ToolTip="ç”Ÿæˆå®Œå…¨éšæœºçš„æŒ‡çº¹ç‰¹å¾ï¼ˆæŽ¨èï¼‰"/>
                            <Button Content="ðŸ”„ é‡æ–°ç”Ÿæˆ" Width="100" Height="32" 
                                    Click="Regenerate_Click"
                                    ToolTip="åŸºäºŽå½“å‰é…ç½®é‡æ–°ç”ŸæˆæŒ‡çº¹"/>
                        </StackPanel>
                    </Grid>
                    
                    <Border Background="#F9F9F9" Padding="16" CornerRadius="8" Margin="0,0,0,24">
                        <StackPanel>
                            <!-- User-Agent -->
                            <Grid Margin="0,0,0,12">
                                <Grid.ColumnDefinitions>
                                    <ColumnDefinition Width="*"/>
                                    <ColumnDefinition Width="Auto"/>
                                    <ColumnDefinition Width="Auto"/>
                                </Grid.ColumnDefinitions>
                                <StackPanel Grid.Column="0">
                                    <TextBlock Text="User-Agent" Style="{StaticResource FieldLabelStyle}"/>
                                    <TextBox x:Name="UserAgentTextBox" Height="32" TextChanged="FingerprintField_Changed"/>
                                </StackPanel>
                                <CheckBox x:Name="LockUACheckBox" Grid.Column="1" Content="ðŸ“Œ" VerticalAlignment="Center" Margin="8,18,0,0"
                                          ToolTip="å›ºå®šæ­¤é¡¹ï¼ˆå®Œå…¨éšæœºæ—¶ä¸æ”¹å˜ï¼‰" FontSize="16"/>
                                <Button Grid.Column="2" Content="ðŸ”„" Width="32" Height="32" Margin="4,18,0,0"
                                        Click="RandomizeUA_Click" ToolTip="éšæœº User-Agent"/>
                            </Grid>

                            <!-- Platform -->
                            <Grid Margin="0,0,0,12">
                                <Grid.ColumnDefinitions>
                                    <ColumnDefinition Width="*"/>
                                    <ColumnDefinition Width="16"/>
                                    <ColumnDefinition Width="*"/>
                                </Grid.ColumnDefinitions>
                                <StackPanel Grid.Column="0">
                                    <TextBlock Text="Platform" Style="{StaticResource FieldLabelStyle}"/>
                                    <TextBox x:Name="PlatformTextBox" Height="32" TextChanged="FingerprintField_Changed"/>
                                </StackPanel>
                                <StackPanel Grid.Column="2">
                                    <TextBlock Text="Timezone" Style="{StaticResource FieldLabelStyle}"/>
                                    <TextBox x:Name="TimezoneTextBox" Height="32" TextChanged="FingerprintField_Changed"/>
                                </StackPanel>
                            </Grid>

                            <!-- ç¡¬ä»¶é…ç½® -->
                            <TextBlock Text="ç¡¬ä»¶é…ç½®" FontWeight="Bold" Margin="0,8,0,8"/>
                            <Grid Margin="0,0,0,12">
                                <Grid.ColumnDefinitions>
                                    <ColumnDefinition Width="*"/>
                                    <ColumnDefinition Width="16"/>
                                    <ColumnDefinition Width="*"/>
                                    <ColumnDefinition Width="16"/>
                                    <ColumnDefinition Width="*"/>
                                </Grid.ColumnDefinitions>
                                <StackPanel Grid.Column="0">
                                    <TextBlock Text="CPU æ ¸å¿ƒæ•°" Style="{StaticResource FieldLabelStyle}"/>
                                    <TextBox x:Name="HardwareConcurrencyTextBox" Height="32" TextChanged="FingerprintField_Changed"/>
                                </StackPanel>
                                <StackPanel Grid.Column="2">
                                    <TextBlock Text="å†…å­˜ (GB)" Style="{StaticResource FieldLabelStyle}"/>
                                    <TextBox x:Name="DeviceMemoryTextBox" Height="32" TextChanged="FingerprintField_Changed"/>
                                </StackPanel>
                                <StackPanel Grid.Column="4">
                                    <TextBlock Text="è§¦æ‘¸ç‚¹æ•°" Style="{StaticResource FieldLabelStyle}"/>
                                    <TextBox x:Name="MaxTouchPointsTextBox" Height="32" TextChanged="FingerprintField_Changed"/>
                                </StackPanel>
                            </Grid>

                            <!-- WebGL -->
                            <Grid Margin="0,8,0,8">
                                <Grid.ColumnDefinitions>
                                    <ColumnDefinition Width="*"/>
                                    <ColumnDefinition Width="Auto"/>
                                    <ColumnDefinition Width="Auto"/>
                                </Grid.ColumnDefinitions>
                                <TextBlock Grid.Column="0" Text="WebGL é…ç½®" FontWeight="Bold"/>
                                <CheckBox x:Name="LockWebGLCheckBox" Grid.Column="1" Content="ðŸ“Œ å›ºå®š" VerticalAlignment="Center" Margin="0,0,8,0"
                                          ToolTip="å›ºå®šæ­¤é¡¹ï¼ˆå®Œå…¨éšæœºæ—¶ä¸æ”¹å˜ï¼‰"/>
                                <Button Grid.Column="2" Content="ðŸ”„ éšæœº" Width="70" Height="28"
                                        Click="RandomizeWebGL_Click" ToolTip="éšæœº WebGL é…ç½®"/>
                            </Grid>
                            <Grid Margin="0,0,0,12">
                                <Grid.ColumnDefinitions>
                                    <ColumnDefinition Width="*"/>
                                    <ColumnDefinition Width="16"/>
                                    <ColumnDefinition Width="*"/>
                                </Grid.ColumnDefinitions>
                                <StackPanel Grid.Column="0">
                                    <TextBlock Text="WebGL Vendor" Style="{StaticResource FieldLabelStyle}"/>
                                    <TextBox x:Name="WebGLVendorTextBox" Height="32" TextChanged="FingerprintField_Changed"/>
                                </StackPanel>
                                <StackPanel Grid.Column="2">
                                    <TextBlock Text="WebGL Renderer" Style="{StaticResource FieldLabelStyle}"/>
                                    <TextBox x:Name="WebGLRendererTextBox" Height="32" TextChanged="FingerprintField_Changed"/>
                                </StackPanel>
                            </Grid>

                            <!-- å­—ä½“åˆ—è¡¨ -->
                            <Grid Margin="0,8,0,8">
                                <Grid.ColumnDefinitions>
                                    <ColumnDefinition Width="*"/>
                                    <ColumnDefinition Width="Auto"/>
                                    <ColumnDefinition Width="Auto"/>
                                </Grid.ColumnDefinitions>
                                <TextBlock Grid.Column="0" Text="å­—ä½“åˆ—è¡¨" FontWeight="Bold"/>
                                <CheckBox x:Name="LockFontsCheckBox" Grid.Column="1" Content="ðŸ“Œ å›ºå®š" VerticalAlignment="Center" Margin="0,0,8,0"
                                          ToolTip="å›ºå®šæ­¤é¡¹ï¼ˆå®Œå…¨éšæœºæ—¶ä¸æ”¹å˜ï¼‰"/>
                                <Button Grid.Column="2" Content="ðŸ”„ éšæœº" Width="70" Height="28"
                                        Click="RandomizeFonts_Click" ToolTip="éšæœºå­—ä½“åˆ—è¡¨ï¼ˆ30-50ä¸ªï¼‰"/>
                            </Grid>
                            <Grid Margin="0,0,0,12">
                                <Grid.ColumnDefinitions>
                                    <ColumnDefinition Width="*"/>
                                    <ColumnDefinition Width="Auto"/>
                                </Grid.ColumnDefinitions>
                                <TextBox x:Name="FontsListTextBox" Grid.Column="0" Height="60" TextWrapping="Wrap" 
                                         IsReadOnly="True" VerticalScrollBarVisibility="Auto"
                                         ToolTip="å·²é€‰å­—ä½“åˆ—è¡¨ï¼ˆé€—å·åˆ†éš”ï¼‰"/>
                                <StackPanel Grid.Column="1" Margin="8,0,0,0">
                                    <TextBlock x:Name="FontsCountText" Text="0 ä¸ªå­—ä½“" FontSize="11" Foreground="#666"/>
                                </StackPanel>
                            </Grid>

                            <!-- é«˜çº§é€‰é¡¹æŠ˜å  -->
                            <Expander Header="ðŸ”§ é«˜çº§é€‰é¡¹ï¼ˆLanguages, Plugins, Sec-CH-UA ç­‰ï¼‰" IsExpanded="False" Margin="0,8,0,0">
                                <StackPanel Margin="0,12,0,0">
                                    <TextBlock Text="Languages JSON" Style="{StaticResource FieldLabelStyle}"/>
                                    <TextBox x:Name="LanguagesJsonTextBox" Height="32" Margin="0,0,0,12" TextChanged="FingerprintField_Changed"/>
                                    
                                    <TextBlock Text="Plugins JSON" Style="{StaticResource FieldLabelStyle}"/>
                                    <TextBox x:Name="PluginsJsonTextBox" Height="32" Margin="0,0,0,12" TextChanged="FingerprintField_Changed"/>
                                    
                                    <TextBlock Text="Sec-CH-UA" Style="{StaticResource FieldLabelStyle}"/>
                                    <TextBox x:Name="SecChUaTextBox" Height="32" Margin="0,0,0,12" TextChanged="FingerprintField_Changed"/>
                                    
                                    <TextBlock Text="Sec-CH-UA-Platform" Style="{StaticResource FieldLabelStyle}"/>
                                    <TextBox x:Name="SecChUaPlatformTextBox" Height="32" Margin="0,0,0,12" TextChanged="FingerprintField_Changed"/>
                                    
                                    <TextBlock Text="Webdriver æ¨¡å¼" Style="{StaticResource FieldLabelStyle}"/>
                                    <ComboBox x:Name="WebdriverModeComboBox" Height="32" Margin="0,0,0,12" SelectionChanged="WebdriverMode_SelectionChanged">
                                        <ComboBoxItem Content="undefined (æŽ¨è - å®Œå…¨ç§»é™¤)" Tag="undefined" IsSelected="True"/>
                                        <ComboBoxItem Content="true (ä¸ŽçœŸå®ž Chrome ä¸€è‡´)" Tag="true"/>
                                        <ComboBoxItem Content="false (å¯èƒ½è¢«æ£€æµ‹)" Tag="false"/>
                                    </ComboBox>
                                </StackPanel>
                            </Expander>
                        </StackPanel>
                    </Border>
                </StackPanel>
            </ScrollViewer>
        </Border>

        <!-- å³ä¾§ï¼šå®žæ—¶é¢„è§ˆå’Œè¯„åˆ† -->
        <Border Grid.Column="1" Background="#FAFAFA" Padding="16">
            <ScrollViewer VerticalScrollBarVisibility="Auto">
                <StackPanel>
                    <!-- æ€»ä½“è¯„åˆ† -->
                    <TextBlock Text="ðŸ“Š æŒ‡çº¹è¯„åˆ†" FontSize="16" FontWeight="Bold" Margin="0,0,0,16"/>
                    
                    <Border Style="{StaticResource ScoreCardStyle}" Margin="0,0,0,16">
                        <StackPanel>
                            <TextBlock Text="æ€»ä½“è¯„åˆ†" FontSize="12" Foreground="#666" Margin="0,0,0,8"/>
                            <Grid>
                                <Grid.ColumnDefinitions>
                                    <ColumnDefinition Width="*"/>
                                    <ColumnDefinition Width="Auto"/>
                                </Grid.ColumnDefinitions>
                                <ProgressBar x:Name="TotalScoreBar" Grid.Column="0" Height="24" Minimum="0" Maximum="100" Value="0"/>
                                <TextBlock x:Name="TotalScoreText" Grid.Column="1" Text="0" FontSize="20" FontWeight="Bold" 
                                           Margin="12,0,0,0" VerticalAlignment="Center"/>
                            </Grid>
                            <TextBlock x:Name="RiskLevelText" Text="é£Žé™©ç­‰çº§: æœªè¯„ä¼°" FontSize="11" Foreground="#666" Margin="0,8,0,0"/>
                        </StackPanel>
                    </Border>

                    <!-- åˆ†é¡¹è¯„åˆ† -->
                    <TextBlock Text="ðŸ“ˆ è¯¦ç»†è¯„åˆ†" FontSize="14" FontWeight="Bold" Margin="0,0,0,12"/>
                    
                    <!-- ä¸€è‡´æ€§ -->
                    <Border Background="White" BorderBrush="#DDD" BorderThickness="1" CornerRadius="4" Padding="12" Margin="0,0,0,8">
                        <StackPanel>
                            <TextBlock Text="ä¸€è‡´æ€§æ£€æŸ¥" FontSize="11" Foreground="#666"/>
                            <Grid Margin="0,4,0,0">
                                <ProgressBar x:Name="ConsistencyScoreBar" Height="16" Minimum="0" Maximum="100" Value="0"/>
                                <TextBlock x:Name="ConsistencyScoreText" Text="0" FontSize="12" FontWeight="Bold" 
                                           HorizontalAlignment="Center" VerticalAlignment="Center"/>
                            </Grid>
                        </StackPanel>
                    </Border>

                    <!-- çœŸå®žæ€§ -->
                    <Border Background="White" BorderBrush="#DDD" BorderThickness="1" CornerRadius="4" Padding="12" Margin="0,0,0,8">
                        <StackPanel>
                            <TextBlock Text="çœŸå®žæ€§æ£€æŸ¥" FontSize="11" Foreground="#666"/>
                            <Grid Margin="0,4,0,0">
                                <ProgressBar x:Name="RealismScoreBar" Height="16" Minimum="0" Maximum="100" Value="0"/>
                                <TextBlock x:Name="RealismScoreText" Text="0" FontSize="12" FontWeight="Bold" 
                                           HorizontalAlignment="Center" VerticalAlignment="Center"/>
                            </Grid>
                        </StackPanel>
                    </Border>

                    <!-- Cloudflare é£Žé™© -->
                    <Border Background="White" BorderBrush="#DDD" BorderThickness="1" CornerRadius="4" Padding="12" Margin="0,0,0,16">
                        <StackPanel>
                            <TextBlock Text="Cloudflare é£Žé™©" FontSize="11" Foreground="#666"/>
                            <Grid Margin="0,4,0,0">
                                <ProgressBar x:Name="CloudflareRiskBar" Height="16" Minimum="0" Maximum="100" Value="0" 
                                             Foreground="#F44336"/>
                                <TextBlock x:Name="CloudflareRiskText" Text="0" FontSize="12" FontWeight="Bold" 
                                           HorizontalAlignment="Center" VerticalAlignment="Center"/>
                            </Grid>
                            <TextBlock Text="ï¼ˆè¶Šä½Žè¶Šå¥½ï¼‰" FontSize="10" Foreground="#999" Margin="0,2,0,0"/>
                        </StackPanel>
                    </Border>

                    <!-- å»ºè®® -->
                    <TextBlock Text="ðŸ’¡ ä¼˜åŒ–å»ºè®®" FontSize="14" FontWeight="Bold" Margin="0,0,0,12"/>
                    <Border Background="White" BorderBrush="#DDD" BorderThickness="1" CornerRadius="4" Padding="12">
                        <ScrollViewer MaxHeight="200" VerticalScrollBarVisibility="Auto">
                            <ItemsControl x:Name="RecommendationsList">
                                <ItemsControl.ItemTemplate>
                                    <DataTemplate>
                                        <StackPanel Orientation="Horizontal" Margin="0,0,0,8">
                                            <TextBlock Text="â€¢" Margin="0,0,8,0" Foreground="#FF9800"/>
                                            <TextBlock Text="{Binding}" TextWrapping="Wrap" Foreground="#666" FontSize="11"/>
                                        </StackPanel>
                                    </DataTemplate>
                                </ItemsControl.ItemTemplate>
                            </ItemsControl>
                        </ScrollViewer>
                    </Border>

                    <!-- æŒ‡çº¹é¢„è§ˆ -->
                    <TextBlock Text="ðŸ” æŒ‡çº¹é¢„è§ˆ" FontSize="14" FontWeight="Bold" Margin="0,16,0,12"/>
                    <Border Background="White" BorderBrush="#DDD" BorderThickness="1" CornerRadius="4" Padding="12">
                        <ScrollViewer MaxHeight="250" VerticalScrollBarVisibility="Auto">
                            <TextBlock x:Name="FingerprintPreviewText" FontFamily="Consolas" FontSize="10" 
                                       Foreground="#333" TextWrapping="Wrap"/>
                        </ScrollViewer>
                    </Border>
                </StackPanel>
            </ScrollViewer>
        </Border>

        <!-- åº•éƒ¨æŒ‰é’®æ  -->
        <Border Grid.Column="0" Grid.ColumnSpan="2" Background="White" 
                BorderBrush="#DDD" BorderThickness="0,1,0,0" 
                Padding="24,16" VerticalAlignment="Bottom">
            <Grid>
                <StackPanel Orientation="Horizontal" HorizontalAlignment="Left">
                    <TextBlock x:Name="StatusText" Text="å°±ç»ª" VerticalAlignment="Center" Foreground="#666"/>
                </StackPanel>
                <StackPanel Orientation="Horizontal" HorizontalAlignment="Right">
                    <Button Content="å–æ¶ˆ" Width="100" Height="36" Margin="0,0,12,0" Click="Cancel_Click"/>
                    <Button x:Name="SaveButton" Content="ä¿å­˜" Width="100" Height="36" 
                            Background="#4CAF50" Foreground="White" BorderThickness="0" 
                            Click="Save_Click" FontWeight="Bold"/>
                </StackPanel>
            </Grid>
        </Border>
    </Grid>
</Window>
