<Window x:Class="FishBrowser.WPF.Views.OptionPickerWindow"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        Title="选择预设选项" Height="480" Width="600"
        WindowStartupLocation="CenterOwner" ResizeMode="CanResize">
  <Grid Margin="10">
    <Grid.RowDefinitions>
      <RowDefinition Height="Auto"/>
      <RowDefinition Height="*"/>
      <RowDefinition Height="Auto"/>
    </Grid.RowDefinitions>

    <StackPanel Orientation="Horizontal" Grid.Row="0">
      <TextBlock Text="Key:" VerticalAlignment="Center"/>
      <TextBlock x:Name="KeyText" FontWeight="Bold" Margin="6,0,0,0" VerticalAlignment="Center"/>
      <Grid>
        <TextBlock Text="搜索标签或值..." 
                   Foreground="Gray" 
                   Margin="16,0,0,0" 
                   VerticalAlignment="Center" 
                   HorizontalAlignment="Left"
                   IsHitTestVisible="False"
                   x:Name="PlaceholderText"/>
        <TextBox x:Name="SearchBox" Width="220" Margin="16,0,0,0" TextChanged="SearchBox_TextChanged" Background="Transparent"/>
      </Grid>
    </StackPanel>

    <DataGrid x:Name="OptionGrid" Grid.Row="1" AutoGenerateColumns="False" CanUserAddRows="False" IsReadOnly="True" SelectionMode="Single">
      <DataGrid.Columns>
        <DataGridTextColumn Header="标签" Binding="{Binding Label}" Width="2*"/>
        <DataGridTextColumn Header="权重" Binding="{Binding Weight}" Width="80"/>
        <DataGridTextColumn Header="Region" Binding="{Binding Region}" Width="100"/>
        <DataGridTextColumn Header="Vendor" Binding="{Binding Vendor}" Width="100"/>
        <DataGridTextColumn Header="DeviceClass" Binding="{Binding DeviceClass}" Width="100"/>
        <DataGridTextColumn Header="值 (JSON)" Binding="{Binding ValueJson}" Width="3*"/>
      </DataGrid.Columns>
    </DataGrid>

    <DockPanel Grid.Row="2" Margin="0,10,0,0">
      <TextBlock x:Name="StatusText"/>
      <StackPanel Orientation="Horizontal" DockPanel.Dock="Right">
        <Button Content="选择" Width="90" Margin="0,0,8,0" Click="Pick_Click"/>
        <Button Content="取消" Width="90" Click="Cancel_Click"/>
      </StackPanel>
    </DockPanel>
  </Grid>
</Window>
